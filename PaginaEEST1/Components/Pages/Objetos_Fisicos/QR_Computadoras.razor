@using PaginaEEST1.Services
@using PaginaEEST1.Data.ViewModels
@using PaginaEEST1.Data.Enums
@inject IComputerService ComputerService
@page "/Computadora_VistaQR_{ID_Computadora:int}"

<html lang="es-ES">

<head>
    <title>Computadora @ID_Computadora</title>
</head>

<body>
    @if (Computadora != null)
    {
        <div class="pc-container">
            <div class="pc-info">
                <h1>@Computadora.DeviceName</h1>
                <ul>
                    <li><b>Estado: </b> @Computadora.Status</li>
                    <li><b>Sistema Operativo: </b> @Computadora.OperatingSystem</li>
                    <li><b>Procesador: </b> @Computadora.Processor</li>
                    <li><b>Memoria RAM: </b> @Computadora.RAM</li>
                    <li><b>Almacenamiento: </b> @Computadora.Storage</li>
                    <li><b>Tipo de almacenamiento: </b> @Computadora.StorageType</li>
                    @if(Computadora.Type == TypeComputer.Computadora){
                    <li><b>Ubicación: </b> @Computadora.Location</li>
                    }
                    @if(Computadora.Type == TypeComputer.Netbook){
                        <li><b>Modelo: </b> @Computadora.Model</li>

                        <li><b>Disponibilidad: </b>
                        @if(Computadora.IsAvailable == true){
                            <text>Disponible</text>
                        }
                        else{
                            <text>En uso</text>
                        }
                        </li>
                    }
                </ul>
            </div>
            <img src="@(Computadora?.Type == TypeComputer.Computadora ? "Images/Logo_Desktop.png" : "Images/Logo_Netbook.png")" class="pc-logo" />
        </div>
    }
</body>

</html>

@code {
    [Parameter]
    public int ID_Computadora { get; set; }
    private ComputerViewModel? Computadora { get; set; }

    // Init
    protected override async Task OnInitializedAsync()
    {
        Computadora = await ComputerService.GetComputer(ID_Computadora);
        StateHasChanged();
    }
}